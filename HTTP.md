# HTTP

`HTTP` - это Hyper Text Transfer Protocol

Протокол для передачи данных в сети.
Этот протокол был создан в 1990 году и по началу просто предназначался для 
передачи гипертекста.`Гипертекст` - Это то что скрывается под вашей веб-странице.
То есть ваш `HTML`, можно сказать что это веб-страница в байтовой форме.

Так как	`HTTP` был создан на 7 уровне модели `OSI`,
то есть под копотом он работал по `TCP`.

Разница между `HTTP 1.1` \ `HTTP 2`

`HTTP 1.1` - Загружает ресурсы один за другим и если один ресурс не может быть прогружен,
другие после него блокируются. Он работает только на `TCP`.

`HTTP 2` - Он работает как на `TCP`, так и на `UDP`. Он может использовать один `TCP`
connection что бы отправить несколько потоков. Так что получается не один ресурс не блокирует поток.

Запомните! 

С помощью этого протокола можно скачивать любые данные из интернета, а не только веб-страницы.

`RawUrl` - сырая ссылка, это значит все после /

Из чего состоит HTTP
Каждое HTTP-сообщение состоит из трёх частей, которые передаются в указанном порядке:

Starting line — определяет тип сообщения; Headers — характеризуют тело сообщения, параметры передачи и прочие сведения; Message Body — непосредственно данные сообщения. Обязательно должно отделяться от заголовков пустой строкой.

Starting line
Говорит о том, что это http request или http response

Метод
URI
Версия
Методы которые вам надо знать - это

GET. Для запроса данных
POST. Для отправки данных
PUT. Для изменения данных
DELETE. Для удаления данных
URI. Состоит из URL и URN URN - http://google.com URL - /search?q=mercedes/

Headers
Заголовки HTTP (англ. HTTP Headers) — это строки в HTTP-сообщении, содержащие разделённую двоеточием пару параметр-значение.

```
	Server: Apache/2.2.11 (Win32) PHP/5.3.0
	Last-Modified: Sat, 16 Jan 2010 21:16:42 GMT
	Content-Type: text/plain; charset=windows-1251
	Content-Language: ru
```

`Middleware` - это мини сервисы, которые по очереди обрабатывают ваш запрос.
Когда вы посылаете на сайт какой то запрос,он должен делать определенные
последовательности, как патерн цепочка обязоностей. Эти `Middleware` нужны
что бы последовательно выполнять какие-то действия. Допустим вы зашли
в какой-то сайт, сайт сразу добавит ваш запрос в журнал, потом проверит что 
вы вообще хотите или же например авторизация. Мини сервис проверяет какие у вас права.

## Возможность регистрации сервисов

В общем есть три варианта регистрации сервисов
1. AddTransient
2. AddScoped
3. AddSingleton

Четвертый это AddDbContext, по сути он добавляется как Singleton, но в этом методе
решена проблема многопоточности. Если мы его добавим как Singleton, то разные
потоки изменят одно и тоже сразу и не только.

Патерн `MVC` - Model View Content, он нам нужен что бы мы могли делать удобный запрос на свой сайт.
Работает это все с помощью рефлексии.


https://github.com/ProfBat018/FBMS_3_22_8_ru/tree/Network/HttpIntro
Тут код работы с `HttpClient`