## REST

`REST` - это что-то вроде `SOLID`, только ддя создания Web-Api.
При этом есть определенный набор правил который говорит нам `REST`

1. Client-Server
2. Stateless
3. Cache
4. Uniform Interface
5. Layerd System
6. Code on demand(optional) 

Токен - одноразовый ключ.
https://tproger.ru/articles/jwt-dlya-nachinayushhih-chto-takoe-json-web-tokens-i-zachem-oni-nuzhny
Поподробнее про работу сервера с токеном

## Client-Server

На самом деле это требование достаточно обычное для любого проекта,
который мы с вами пишем - это деление задач и обязанностей на разные
`concern` - это Завод, то есть разделение обязанностей, как `View` и `Data` только в
более мастшабном виде.

## Stateless - Отсутствие состояния

Он говорит о том что в любом приложении или веб-сайте, когда вы делаете login,
информация о состаянии клиента, должно хранится в его запросе, они на стороне сервера.

Пример с `API`
Например `Imgur` когда вы делаете запрос, в своем запросе вы так же указываете свой токен,
то есть сервер не хранит в себе что у него есть пользователь, который сейчас с ним работает.
Тем самым вы не загружаете сервер. Состояние - информация о клиенте, например есть ли права или нет.

Сервер эти данные перенаправляет на маленький сервис, который возвращает ему инфу.
То есть сервер не хранит состояние, это и есть отсутствие состояния. Сервер не знает кто вы,
он спрашивает у кого-то тем самым не нагружая себя. Это всего лишь пример.

## Cache

Тут все на самом деле понятно, для увеличения быстроты ответа со стороны сервера,
надо испорльзовать кеширование. К примеру базу данных Redis. Это работает
примерно вот так. Вы сделали запрос на каталог телефонов, велика вероятность что вы после
захотите сделать фильтрацию, то есть уточнить запрос. Давайте подумаем как это будет без
кеширования, с примером сайта электроники

Сделали запрос на каталог телефонов
Вернулся ответ со 100 устройствами
Далее пользователь делает фильтр на устройства Iphone
Тут сервер не хранит ваши устройства, из-за этого будет новый запрос в базу данных и выборка оттуда Iphone
В случае с кешированием ваши запросы сохраняются на определенный период и вам не надо потом повторно обращаться к базе данных.

Сделали запрос на каталог телефонов
Вернулся ответ со 100 устройствами
Далее пользователь делает фильтр на устройства Iphone
Тут из кеша достается ваш прошлый результат запроса и делается выборка.

## Uniform Interface - Единый интерфейс

Единообразие интерфейса говорит о том что все запросы на ваш 
API должны быть единообразными, то есть одинаковыми.

Если у вас API может принимать 3 GET и 3 POST запроса, то они все
должны работать по одинаковому принципу.

`GET` - брать данные
`POST` - отправлять данные

Нельзя чтобы один POST запрос принимал параметры в адресной строке,
а другой в HTTP Body

## Layered System - Многоуровневая система

Слоенная система. Как говорил один из современных философов Шрек 
великаны многослойны. Так же и с API, которые мы пишем. Запросы
должны обрабатываться на разных слоях, а не а одном сервисе вашего
Back-End. То есть не нужно все делать в одном сервисе. Поделите работу 
на несколько сервис.

ссылка нна код
https://github.com/ProfBat018/FBMS_3_22_8_ru/tree/Network/RestIntro

## RestClient

RestClient предоставляет удобный способ отправки HTTP-запросов к удаленному серверу и получения
ответов. В нем обычно предоставляются методы для выполнения различных HTTP-запросов, таких как
GET, POST, PUT, DELETE и другие.

```csharp

using RestSharp;

class Program
{
    static void Main(string[] args)
    {
        // Создаем экземпляр RestClient и указываем URL API
        var client = new RestClient("https://api.example.com");

        // Создаем запрос типа GET
        var request = new RestRequest("resource", Method.GET);

        // Выполняем запрос асинхронно
        client.ExecuteAsync(request, response =>
        {
            // Обрабатываем ответ от сервера
            if (response.StatusCode == System.Net.HttpStatusCode.OK)
            {
                Console.WriteLine("Response received: " + response.Content);
            }
            else
            {
                Console.WriteLine("Error: " + response.ErrorMessage);
            }
        });

        Console.ReadLine(); // Чтобы консольное приложение не закрылось сразу
    }
}

```

## HttpClient

Это стандартный класс в .NET для отправки HTTP-запросов. Он предоставляет
более низкоуровневый, но мощный способ работы с HTTP, включая возможности для отправки 
GET, POST, PUT, DELETE запросов, управления заголовками и телом запроса, установки таймаутов и т.д.