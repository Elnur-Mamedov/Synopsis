# Task

 ласс `Task` под копотом работает через `ThreadPool`, 
`ThreadPool` под капотом работает через `Thread` по дефолту выделенные нашему процессу.
`Task` - это обещание которое выполнитс€ когда то.

`Task` - это статичный класс, в котором есть статичные функции и свойства.
ј `Task.Factory.StartNew()` завод начинает создавать обещание, которое будет выполн€ть что-то в будущем.

`Task` - `Promise` - `ќбещание`

``` csharp

Task task1 = Task.Factory.StartNew(Action);

var awaiter = task1.GetAwaiter();

`Awaiter - Ёто объект который будет ждать, он ждет пока метод не выполнит свою работу.`

awaiter.GetResult();

`ѕолучи результат этого обещани€.
 огда он вызываетс€, он останавливает поток в котором он находитс€.
ѕо сути он под капотом вызывает —обыти€ блокировки`

`Ётот код синтаксических сахар, ведь есть `async` `await`
¬ IL коде логика та же сама€, просто `await` делает сам то
что GetAwaiter() под капотом, например мен€ет состо€ние в состо€ние ожидани€`
```

`Task.WaitAll()` - нужен что бы main подождал.

¬се методы которые занимаютс€ чем то асинхронным, должны заканчиватьс€ на `Async`